FROM python:3.10-slim

WORKDIR /app

COPY requirements.txt ./

# üîß –£—Å—Ç–∞–Ω–æ–≤–∏–º ffmpeg –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
RUN apt-get update && apt-get install -y ffmpeg && \
    pip install --no-cache-dir -r requirements.txt

COPY main.py ./

EXPOSE 8000

CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000"]
